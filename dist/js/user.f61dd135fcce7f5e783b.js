webpackJsonp([12],{"3D6/":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-item",attrs:{id:"user-item-"+e.user.id}},[s("v-avatar",{staticClass:"user-item-avatar",attrs:{uid:e.user.id,sex:e.user.sex,src:e.user.avatar}}),e._v(" "),s("div",{staticClass:"user-item-info"},[s("p",{staticClass:"user-item-name ellipsis"},[e._v(e._s(e.user.name))]),e._v(" "),s("p",{staticClass:"user-item-bio ellipsis"},[e._v(e._s(e.user.bio||"这家伙很懒,什么也没留下"))])]),e._v(" "),s("svg",{staticClass:"user-item-follow-icon",on:{click:function(t){t.stopPropagation(),e.followUser(t)}}},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#base-"+e.isFollow}})])],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},J6BJ:function(e,t,s){"use strict";function r(e){s("RBLw")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("Zu/Z"),i=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);var a=s("zG3Z"),l=s("VU/8"),u=r,f=l(i.a,a.a,!1,u,null,null);t.default=f.exports},LplX:function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"UserFans.vue",sourceRoot:""}])},RBLw:function(e,t,s){var r=s("LplX");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("4fa9fbe5",r,!0,{})},TKcL:function(e,t,s){var r=s("aaF2");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("7790fc0f",r,!0,{})},"Zu/Z":function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s("woOf"),i=r(n),o=s("yNk5"),a=r(o);t.default={name:"UserFans",components:{UserItem:a.default},data:function(){return{userList:[],refreshData:[]}},computed:{userID:function(){return this.$route.params.userID},type:function(){var e=this.$route.query.type;return e||(this.$route.query.type="followers"),e}},watch:{type:function(e){this.userList=[],this.$refs.loadmore.beforeRefresh()},refreshData:function(e){e.length>0&&(this.userList=(0,i.default)([],this.userList,e))}},methods:{navTo:function(e){return{path:"/user/"+this.userID+"/fans",query:{type:e}}},onRefresh:function(){var e=this;this.refreshData=[],this.$http.get("/users/"+this.userID+"/"+this.type).then(function(t){var s=t.data,r=void 0===s?[]:s;r.length>0&&(e.refreshData=r),e.$refs.loadmore.topEnd(!(r.length<20))})},onLoadMore:function(){var e=this;this.$http.get("/users/"+this.userID+"/"+this.type,{params:{limit:15,offset:this.userList.length}}).then(function(t){var s=t.data,r=void 0===s?[]:s;r.length>0&&(e.userList=e.userList.concat(r)),e.$refs.loadmore.bottomEnd(r.length<15)})}}}},aaF2:function(e,t,s){t=e.exports=s("FZ+f")(!0),t.push([e.i,".user-item{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 .3rem;height:1.35rem;font-size:.28rem;color:#999;background-color:#fff;border-bottom:1px solid #ededed}.user-item-avatar,.user-item-follow-icon{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.user-item-info{margin-left:.3rem;margin-right:.3rem;width:-webkit-calc(100% - 1.71rem);width:calc(100% - 1.71rem);-webkit-box-flex:1;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.user-item-info p{margin:.05rem 0}.user-item-name{font-size:.32rem;color:#333}.user-item-follow-icon{width:.4rem;height:.4rem}","",{version:3,sources:["/Users/SevenDu/Desktop/working/plus-component-h5/src/components/style/UserItem.less"],names:[],mappings:"AACA,WACE,oBAAqB,AACrB,qBAAsB,AACtB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AAC1B,2BAA4B,AACxB,sBAAuB,AACnB,mBAAoB,AAC5B,gBAAkB,AAClB,eAAgB,AAChB,iBAAmB,AACnB,WAAY,AACZ,sBAAuB,AACvB,+BAAiC,CAClC,AACD,yCAEE,mBAAoB,AACpB,sBAAuB,AACnB,kBAAmB,AACf,aAAe,CACxB,AACD,gBACE,kBAAoB,AACpB,mBAAqB,AACrB,mCAAoC,AACpC,2BAA4B,AAC5B,mBAAoB,AACpB,sBAAuB,AACnB,kBAAmB,AACf,aAAe,CACxB,AACD,kBACE,eAAkB,CACnB,AACD,gBACE,iBAAmB,AACnB,UAAY,CACb,AACD,uBACE,YAAc,AACd,YAAe,CAChB",file:"UserItem.less",sourcesContent:["\n.user-item {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 0 0.3rem;\n  height: 1.35rem;\n  font-size: 0.28rem;\n  color: #999;\n  background-color: #fff;\n  border-bottom: 1px solid #ededed;\n}\n.user-item-avatar,\n.user-item-follow-icon {\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 auto;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n}\n.user-item-info {\n  margin-left: 0.3rem;\n  margin-right: 0.3rem;\n  width: -webkit-calc(100% - 1.71rem);\n  width: calc(100% - 1.71rem);\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n}\n.user-item-info p {\n  margin: 0.05rem 0;\n}\n.user-item-name {\n  font-size: 0.32rem;\n  color: #333;\n}\n.user-item-follow-icon {\n  width: 0.4rem;\n  height: 0.4rem;\n}"],sourceRoot:""}])},bujr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"UserItem",props:{user:{type:Object,required:!0}},data:function(){return{}},computed:{isFollow:function(){var e=this.user,t=e.follower,s=void 0!==t&&t,r=e.following,n=void 0!==r&&r;return s&&n?"eachFollow":s?"follow":"unFollow"}},methods:{followUser:function(){var e=this;if(this.loading)return!1;this.loading=!0,this.$store.dispatch("FOLLOW_USER",{id:this.user.id,status:this.isFollow}).then(function(t){var s=(t.status,t.follower);e.loading=!1,e.user.follower=s}).catch(function(t){var s=t.response;s=void 0===s?{}:s;var r=s.data,n=void 0===r?{message:"操作失败"}:r;e.loading=!1,e.$Message.error(n)})}}}},yNk5:function(e,t,s){"use strict";function r(e){s("TKcL")}Object.defineProperty(t,"__esModule",{value:!0});var n=s("bujr"),i=s.n(n);for(var o in n)"default"!==o&&function(e){s.d(t,e,function(){return n[e]})}(o);var a=s("3D6/"),l=s("VU/8"),u=r,f=l(i.a,a.a,!1,u,null,null);t.default=f.exports},zG3Z:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-fans"},[s("head-top",{attrs:{"go-back":!0}},[s("div",{staticClass:"head-top-nav",attrs:{slot:"nav"},slot:"nav"},[s("router-link",{staticClass:"head-top-nav-item",attrs:{exact:"",replace:"",to:e.navTo("followers")}},[e._v("粉丝")]),e._v(" "),s("router-link",{staticClass:"head-top-nav-item",attrs:{exact:"",replace:"",to:e.navTo("followings")}},[e._v("关注")])],1)]),e._v(" "),s("load-more",{ref:"loadmore",staticClass:"user-fans--list",attrs:{onRefresh:e.onRefresh,onLoadMore:e.onLoadMore}},e._l(e.userList,function(t){return t.id?s("user-item",{key:"user-item-"+t.id,attrs:{user:t}}):e._e()}))],1)},n=[],i={render:r,staticRenderFns:n};t.a=i}});
//# sourceMappingURL=user.f61dd135fcce7f5e783b.js.map